{% assign previous_link = null %}
{% assign next_link = null %}
{% for item in site.toc  %}
  {% if item.permalink == page.permalink %}
    {% unless forloop.first %}
      {% assign previous_link = previous_item.permalink %}
    {% endunless %}
    {% unless forloop.last %}
      {% assign next_link = site.toc[forloop.index].permalink %}
    {% endunless %}
  {% endif %}
  {% assign previous_item = item %}
{% endfor %}

<footer align="center">
  <hr/>
  <div class="row">
    <span class="col-md-2" align="left">
      {% unless page.manual %}
        {% if previous_link %}
          <a class="nav-link" href="{{previous_link|absolute_url}}">Previous</a>
        {% else %}
          <a class="nav-link" href="{{'/'|absolute_url}}">Up</a>
        {% endif %}
      {% endunless %}
    </span>
    <span class="col-md-8" align="center">
      <em>
        <a href="{{'/'|absolute_url}}">JavaScript versus Research Computing</a>
        &copy; 2017 Greg Wilson - see <a href="{{'/license/'|absolute_url}}">the license</a> for terms of use.
      </em>
    </span>
    <span class="col-md-2" align="right">
      {% unless page.manual %}
        {% if next_link %}
          <a class="nav-link" href="{{next_link|absolute_url}}">Next</a>
        {% else %}
          <a class="nav-link" href="{{'/'|absolute_url}}">Up</a>
        {% endif %}
      {% endunless %}
    </span>
  </div>
</footer>
